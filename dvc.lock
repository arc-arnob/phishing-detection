schema: '2.0'
stages:
  prepare:
    cmd: python src/data/make_dataset.py data/raw data/processed
    deps:
    - path: data/raw/test.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    - path: data/raw/train.txt
      hash: md5
      md5: 13fd241a41370119612d5b00b0433009
      size: 93921671
    - path: data/raw/val.txt
      hash: md5
      md5: 7b1e28b1e91582c6f36e85517c3cc6ee
      size: 46258330
    - path: src/data/make_dataset.py
      hash: md5
      md5: 201c52353928dc8e48652bd5510e1fe3
      size: 2892
    outs:
    - path: data/processed
      hash: md5
      md5: 3edd2f149067efab16f42cad6c95bc98.dir
      size: 1555441976
      nfiles: 6
    - path: models/char_index.pkl
      hash: md5
      md5: 941dc7e5461b0a429941866a00102b8c
      size: 444
  train:
    cmd: python src/models/train_model.py
    deps:
    - path: data/processed/x_train.npy
      hash: md5
      md5: d81af1c35a77cdeac4d8ccee76cc939e
      size: 836619328
    - path: data/processed/x_val.npy
      hash: md5
      md5: 22128e9681506e90a2b437d45da5f8cf
      size: 412063328
    - path: data/processed/y_train.npy
      hash: md5
      md5: 9b660634af0db95a6e2932208bc73b91
      size: 8366320
    - path: data/processed/y_val.npy
      hash: md5
      md5: 7d7c949969abb0303ea9373bf519cc84
      size: 4120760
    - path: models/char_index.pkl
      hash: md5
      md5: 941dc7e5461b0a429941866a00102b8c
      size: 444
    - path: src/models/train_model.py
      hash: md5
      md5: 05e86995ef6320f0a7e871a9fafa3c35
      size: 3113
    outs:
    - path: models/model.keras
      hash: md5
      md5: 925f516832c0a2a74364a0bf44d15d27
      size: 5472435
  evaluate:
    cmd: python src/models/evaluation.py
    deps:
    - path: data/processed/x_test.npy
      hash: md5
      md5: 23fa98d19a833016d86142c36cecda27
      size: 291358528
    - path: data/processed/y_test.npy
      hash: md5
      md5: 86612dc0b79d11ee7dcf2d30c62811eb
      size: 2913712
    - path: models/model.keras
      hash: md5
      md5: 925f516832c0a2a74364a0bf44d15d27
      size: 5472435
    - path: src/models/evaluation.py
      hash: md5
      md5: c2e5b36d5d21417674c44fc698a6982d
      size: 1368
    outs:
    - path: eval/accuracy.txt
      hash: md5
      md5: bf6da891e65312080aafd0fd36f96ca0
      size: 18
    - path: eval/classification_report.txt
      hash: md5
      md5: bf38374b1a3b97061f27d9130d17ab2e
      size: 326
    - path: eval/confusion_matrix.csv
      hash: md5
      md5: 4d96fe66c814c7e0ae11b66adcccc510
      size: 100
