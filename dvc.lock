schema: '2.0'
stages:
  prepare:
    cmd: python src/data/make_dataset.py data/raw data/processed
    deps:
    - path: data/raw/test.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    - path: data/raw/train.txt
      hash: md5
      md5: 13fd241a41370119612d5b00b0433009
      size: 93921671
    - path: data/raw/val.txt
      hash: md5
      md5: 7b1e28b1e91582c6f36e85517c3cc6ee
      size: 46258330
    - path: src/data/make_dataset.py
      hash: md5
      md5: f2ff42b6a0c71af19ca12b6626450681
      size: 3206
    outs:
    - path: data/processed
      hash: md5
      md5: 9a03947f9b2d59c2a3adda9b11753724.dir
      size: 1555443592
      nfiles: 6
    - path: models/char_index.pkl
      hash: md5
      md5: 941dc7e5461b0a429941866a00102b8c
      size: 444
  train:
    cmd: python src/models/train_model.py
    deps:
    - path: data/processed/x_train.npy
      hash: md5
      md5: d81af1c35a77cdeac4d8ccee76cc939e
      size: 836619328
    - path: data/processed/x_val.npy
      hash: md5
      md5: 22128e9681506e90a2b437d45da5f8cf
      size: 412063328
    - path: data/processed/y_train.npy
      hash: md5
      md5: 9b660634af0db95a6e2932208bc73b91
      size: 8366320
    - path: data/processed/y_val.npy
      hash: md5
      md5: 7d7c949969abb0303ea9373bf519cc84
      size: 4120760
    - path: models/char_index.pkl
      hash: md5
      md5: 941dc7e5461b0a429941866a00102b8c
      size: 444
    - path: src/models/train_model.py
      hash: md5
      md5: 3a483db36feb6ecb8e88cc5fb9539af9
      size: 3145
    outs:
    - path: models/model.keras
      hash: md5
      md5: 7352aeabb3ea3414bc9d3634947e1fa7
      size: 5472435
  evaluate:
    cmd: python src/models/evaluation.py
    deps:
    - path: data/processed/x_test.npy
      hash: md5
      md5: 93675aba9e6e2c9b80277481652f0f7d
      size: 291359328
    - path: data/processed/y_test.npy
      hash: md5
      md5: 2e2044626c9afab7c7d378dc3814ba8a
      size: 2913720
    - path: models/model.keras
      hash: md5
      md5: c0430fad5cfbd4dd548c485588b5b004
      size: 5472435
    - path: src/models/evaluation.py
      hash: md5
      md5: 072855321de0b1d2bea4793fcd830925
      size: 1243
    outs:
    - path: eval/accuracy.txt
      hash: md5
      md5: 9766457e42c1e41054da2b46d6e83506
      size: 18
    - path: eval/classification_report.txt
      hash: md5
      md5: 6b269fa4b274211285c072fdd48e183f
      size: 326
    - path: eval/confusion_matrix.csv
      hash: md5
      md5: 72ae6804380db2df6e4bf3716bf8a83b
      size: 100
